/*
 * YoutubeBackground - A wrapper for the Youtube API
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/mit-license.php
 *
 * Version:  1.0.5
 */
'function'!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),function(a,b,c){var d=function(h){var i=c.createElement('script'),j=c.getElementsByTagName('head')[0];i.src='file://'==b.location.origin?'http://www.youtube.com/iframe_api':'//www.youtube.com/iframe_api',j.appendChild(i),j=null,i=null,f(h)},f=function(h){'undefined'==typeof YT&&'undefined'==typeof b.loadingPlayer?(b.loadingPlayer=!0,b.dfd=a.Deferred(),b.onYouTubeIframeAPIReady=function(){b.onYouTubeIframeAPIReady=null,b.dfd.resolve('done'),h()}):'object'==typeof YT?h():b.dfd.done(function(){h()})};YTPlayer={player:null,defaults:{ratio:16/9,videoId:'LSmgKRx5pBo',mute:!0,repeat:!0,width:a(b).width(),playButtonClass:'YTPlayer-play',pauseButtonClass:'YTPlayer-pause',muteButtonClass:'YTPlayer-mute',volumeUpClass:'YTPlayer-volume-up',volumeDownClass:'YTPlayer-volume-down',start:0,pauseOnScroll:!1,fitToBackground:!0,playerVars:{iv_load_policy:3,modestbranding:1,autoplay:1,controls:0,showinfo:0,wmode:'opaque',branding:0,autohide:0},events:null},init:function(h,i){var j=this;return j.userOptions=i,j.$body=a('body'),j.$node=a(h),j.$window=a(b),j.defaults.events={onReady:function(k){j.onPlayerReady(k),j.options.pauseOnScroll&&j.pauseOnScroll(),'function'==typeof j.options.callback&&j.options.callback.call(this)},onStateChange:function(k){1===k.data?(j.$node.find('img').fadeOut(400),j.$node.addClass('loaded')):0===k.data&&j.options.repeat&&j.player.seekTo(j.options.start)}},j.options=a.extend(!0,{},j.defaults,j.userOptions),j.options.height=Math.ceil(j.options.width/j.options.ratio),j.ID=new Date().getTime(),j.holderID='YTPlayer-ID-'+j.ID,j.options.fitToBackground?j.createBackgroundVideo():j.createContainerVideo(),j.$window.on('resize.YTplayer'+j.ID,function(){j.resize(j)}),d(j.onYouTubeIframeAPIReady.bind(j)),j.resize(j),j},pauseOnScroll:function(){var h=this;h.$window.on('scroll.YTplayer'+h.ID,function(){var i=h.player.getPlayerState();1===i&&h.player.pauseVideo()}),h.$window.scrollStopped(function(){var i=h.player.getPlayerState();2===i&&h.player.playVideo()})},createContainerVideo:function(){var h=this,i=a('<div id="ytplayer-container'+h.ID+'" >                                    <div id="'+h.holderID+'" class="ytplayer-player-inline"></div>                                     </div>                                     <div id="ytplayer-shield" class="ytplayer-shield"></div>');h.$node.append(i),h.$YTPlayerString=i,i=null},createBackgroundVideo:function(){var h=this,i=a('<div id="ytplayer-container'+h.ID+'" class="ytplayer-container background">                                    <div id="'+h.holderID+'" class="ytplayer-player"></div>                                    </div>                                    <div id="ytplayer-shield" class="ytplayer-shield"></div>');h.$node.append(i),h.$YTPlayerString=i,i=null},resize:function(h){var i=a(b);h.options.fitToBackground||(i=h.$node);var k,m,j=i.width(),l=i.height(),n=a('#'+h.holderID);j/h.options.ratio<l?(k=Math.ceil(l*h.options.ratio),n.width(k).height(l).css({left:(j-k)/2,top:0})):(m=Math.ceil(j/h.options.ratio),n.width(j).height(m).css({left:0,top:(l-m)/2})),n=null,i=null},onYouTubeIframeAPIReady:function(){var h=this;h.player=new b.YT.Player(h.holderID,h.options)},onPlayerReady:function(h){this.options.mute&&h.target.mute()},getPlayer:function(){return this.player},destroy:function(){var h=this;h.$node.removeData('yt-init').removeData('ytPlayer').removeClass('loaded'),h.$YTPlayerString.remove(),a(b).off('resize.YTplayer'+h.ID),a(b).off('scroll.YTplayer'+h.ID),h.$body=null,h.$node=null,h.$YTPlayerString=null,h.player.destroy(),h.player=null}},a.fn.scrollStopped=function(g){var h=a(this),i=this;h.scroll(function(){h.data('scrollTimeout')&&clearTimeout(h.data('scrollTimeout')),h.data('scrollTimeout',setTimeout(g,250,i))})},a.fn.YTPlayer=function(g){return this.each(function(){var h=this;a(h).data('yt-init',!0);var i=Object.create(YTPlayer);i.init(h,g),a.data(h,'ytPlayer',i)})}}(jQuery,window,document);